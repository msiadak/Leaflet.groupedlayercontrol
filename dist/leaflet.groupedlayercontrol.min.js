/*! Version: 0.4.0
Date: 2015-12-08 */

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a,b,c){var f=null==a?void 0:d(a,e(b),b+"");return void 0===f?c:f}var d=a("lodash._baseget"),e=a("lodash._topath");b.exports=c},{"lodash._baseget":2,"lodash._topath":3}],2:[function(a,b){function c(a,b,c){if(null!=a){void 0!==c&&c in d(a)&&(b=[c]);for(var e=0,f=b.length;null!=a&&f>e;)a=a[b[e++]];return e&&e==f?a:void 0}}function d(a){return e(a)?a:Object(a)}function e(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=c},{}],3:[function(a,b){function c(a){return null==a?"":a+""}function d(a){if(e(a))return a;var b=[];return c(a).replace(f,function(a,c,d,e){b.push(d?e.replace(g,"$1"):c||a)}),b}var e=a("lodash.isarray"),f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,g=/\\(\\)?/g;b.exports=d},{"lodash.isarray":4}],4:[function(a,b){function c(a){return!!a&&"object"==typeof a}function d(a,b){var c=null==a?void 0:a[b];return h(c)?c:void 0}function e(a){return"number"==typeof a&&a>-1&&a%1==0&&r>=a}function f(a){return g(a)&&o.call(a)==j}function g(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function h(a){return null==a?!1:f(a)?p.test(m.call(a)):c(a)&&k.test(a)}var i="[object Array]",j="[object Function]",k=/^\[object .+?Constructor\]$/,l=Object.prototype,m=Function.prototype.toString,n=l.hasOwnProperty,o=l.toString,p=RegExp("^"+m.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=d(Array,"isArray"),r=9007199254740991,s=q||function(a){return c(a)&&e(a.length)&&o.call(a)==i};b.exports=s},{}],5:[function(a,b){function c(a,b){return a="number"==typeof a||q.test(a)?+a:-1,b=null==b?t:b,a>-1&&a%1==0&&b>a}function d(a,b){var c=typeof a;if("string"==c&&p.test(a)||"number"==c)return!0;if(n(a))return!1;var d=!o.test(a);return d||null!=b&&a in f(b)}function e(a){return"number"==typeof a&&a>-1&&a%1==0&&t>=a}function f(a){return h(a)?a:Object(a)}function g(a){var b=a?a.length:0;return b?a[b-1]:void 0}function h(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function i(a,b){if(null==a)return!1;var f=s.call(a,b);if(!f&&!d(b)){if(b=l(b),a=1==b.length?a:j(a,k(b,0,-1)),null==a)return!1;b=g(b),f=s.call(a,b)}return f||e(a.length)&&c(b,a.length)&&(n(a)||m(a))}var j=a("lodash._baseget"),k=a("lodash._baseslice"),l=a("lodash._topath"),m=a("lodash.isarguments"),n=a("lodash.isarray"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,p=/^\w*$/,q=/^\d+$/,r=Object.prototype,s=r.hasOwnProperty,t=9007199254740991;b.exports=i},{"lodash._baseget":6,"lodash._baseslice":7,"lodash._topath":8,"lodash.isarguments":9,"lodash.isarray":10}],6:[function(a,b,c){arguments[4][2][0].apply(c,arguments)},{dup:2}],7:[function(a,b){function c(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=void 0===c||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}b.exports=c},{}],8:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{dup:3,"lodash.isarray":10}],9:[function(a,b){function c(a){return!!a&&"object"==typeof a}function d(a){return function(b){return null==b?void 0:b[a]}}function e(a){return null!=a&&f(l(a))}function f(a){return"number"==typeof a&&a>-1&&a%1==0&&k>=a}function g(a){return c(a)&&e(a)&&i.call(a,"callee")&&!j.call(a,"callee")}var h=Object.prototype,i=h.hasOwnProperty,j=h.propertyIsEnumerable,k=9007199254740991,l=d("length");b.exports=g},{}],10:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],11:[function(a,b){function c(a){var b=a?a.length:0;return b?a[b-1]:void 0}b.exports=c},{}],12:[function(a,b){function c(a,b){return a="number"==typeof a||l.test(a)?+a:-1,b=null==b?m:b,a>-1&&a%1==0&&b>a}function d(a,b){var c=typeof a;if("string"==c&&k.test(a)||"number"==c)return!0;if(i(a))return!1;var d=!j.test(a);return d||null!=b&&a in e(b)}function e(a){return f(a)?a:Object(a)}function f(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function g(a,b,e){if(null==a)return a;var g=b+"";b=null!=a[g]||d(b,a)?[g]:h(b);for(var i=-1,j=b.length,k=j-1,l=a;null!=l&&++i<j;){var m=b[i];f(l)&&(i==k?l[m]=e:null==l[m]&&(l[m]=c(b[i+1])?[]:{})),l=l[m]}return a}var h=a("lodash._topath"),i=a("lodash.isarray"),j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,k=/^\w*$/,l=/^\d+$/,m=9007199254740991;b.exports=g},{"lodash._topath":13,"lodash.isarray":14}],13:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{dup:3,"lodash.isarray":14}],14:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],15:[function(a,b){function c(a,b,c){var f=a?a.length:0;return f?(c&&"number"!=typeof c&&e(a,b,c)&&(b=0,c=f),d(a,b,c)):[]}var d=a("lodash._baseslice"),e=a("lodash._isiterateecall");b.exports=c},{"lodash._baseslice":16,"lodash._isiterateecall":17}],16:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{dup:7}],17:[function(a,b){function c(a){return function(b){return null==b?void 0:b[a]}}function d(a){return null!=a&&g(k(a))}function e(a,b){return a="number"==typeof a||i.test(a)?+a:-1,b=null==b?j:b,a>-1&&a%1==0&&b>a}function f(a,b,c){if(!h(c))return!1;var f=typeof b;if("number"==f?d(c)&&e(b,c.length):"string"==f&&b in c){var g=c[b];return a===a?a===g:g!==g}return!1}function g(a){return"number"==typeof a&&a>-1&&a%1==0&&j>=a}function h(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}var i=/^\d+$/,j=9007199254740991,k=c("length");b.exports=f},{}],18:[function(a){var b={set:a("lodash.set"),get:a("lodash.get"),slice:a("lodash.slice"),has:a("lodash.has"),last:a("lodash.last")};L.Control.GroupedLayers=L.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,exclusiveGroups:[],groupCheckboxes:!1},initialize:function(a,b,c){var d,e;L.Util.setOptions(this,c),this._layers={},this._lastZIndex=0,this._handlingClick=!1,this._groupList=[],this._domGroups=[];for(d in a)this._addLayer(a[d],d);for(d in b)for(var e in b[d])this._addLayer(b[d][e],e,d,!0)},onAdd:function(a){return this._initLayout(),this._update(),a.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(a){a.off("zoomend",this._checkDisabledLayers,this)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._update()},addOverlay:function(a,b,c){return this._addLayer(a,b,c,!0),this._update(),this},removeLayer:function(a){return a.off("add remove",this._onLayerChange,this),delete this._layers[L.stamp(a)],this._update()},_initLayout:function(){var a="leaflet-control-layers",b=this._container=L.DomUtil.create("div",a);b.setAttribute("aria-haspopup",!0),L.Browser.touch?L.DomEvent.on(b,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(b),L.DomEvent.on(b,"wheel",L.DomEvent.stopPropagation));var c=this._form=L.DomUtil.create("form",a+"-list");if(this.options.collapsed){L.Browser.android||L.DomEvent.on(b,"mouseover",this._expand,this).on(b,"mouseout",this._collapse,this);var d=this._layersLink=L.DomUtil.create("a",a+"-toggle",b);d.href="#",d.title="Layers",L.Browser.touch?L.DomEvent.on(d,"click",L.DomEvent.stop).on(d,"click",this._expand,this):L.DomEvent.on(d,"focus",this._expand,this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=L.DomUtil.create("div",a+"-base",c),this._separator=L.DomUtil.create("div",a+"-separator",c),this._overlaysList=L.DomUtil.create("div",a+"-overlays",c),b.appendChild(c)},_addLayer:function(a,b,c,d){a.on("add remove",this._onLayerChange,this);var e=L.stamp(a);this._layers[e]={layer:a,name:b,overlay:d},c=c||"";var f=this._indexOf(this._groupList,c);-1===f&&(f=this._groupList.push(c)-1);var g=-1!=this._indexOf(this.options.exclusiveGroups,c);this._layers[e].group={name:c,id:f,exclusive:g},this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="",this._domGroups.length=0;var a,b,c=!1,d=!1;for(a in this._layers)b=this._layers[a],this._addItem(b),d=d||b.overlay,c=c||!b.overlay;this._separator.style.display=d&&c?"":"none"}},_onLayerChange:function(a){this._handlingClick||this._update();var b=this._layers[L.stamp(a.target)],c=b.overlay?"layeradd"===a.type?"overlayadd":"overlayremove":"layeradd"===a.type?"baselayerchange":null;c&&this._map.fire(c,b)},_createRadioElement:function(a,b){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"';b&&(c+=' checked="checked"'),c+="/>";var d=document.createElement("div");return d.innerHTML=c,d.firstChild},_addItem:function(a){var c,d,e=document.createElement("label"),f=this._map.hasLayer(a.layer),g=L.stamp(a.layer);a.overlay?a.group.exclusive?(groupRadioName="leaflet-exclusive-group-layer-"+a.group.id,c=this._createRadioElement(groupRadioName,f)):(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=f):c=this._createRadioElement("leaflet-base-layers",f),c.layerId=g,c.groupID=a.group.id,L.DomEvent.on(c,"click",this._onInputClick,this);var h=document.createElement("span");if(h.innerHTML=" "+a.name,e.appendChild(c),e.appendChild(h),b.has(a.layer.options,"filter")){var i=a.layer.options.filter,j=i.values,k=document.createElement("select"),l=document.createElement("span");filterIcon=document.createElement("i"),cancelIcon=document.createElement("i"),selectSpan=document.createElement("span"),filterIcon.className="icon ion-funnel leaflet-control-layers-filter-icon",cancelIcon.className="icon ion-android-cancel leaflet-control-layers-filter-cancel",k.className="leaflet-control-layers-filter-select",k.layerId=g,selectSpan.className="leaflet-control-layers-filter-select-container-hidden",-1===j.indexOf("")&&j.unshift("");for(var m=0;m<j.length;m++){var n=document.createElement("option");n.value=n.innerHTML=j[m],""===n.value&&(n.selected=!0,n.className="leaflet-control-layers-filter-option-null",i.nullPrompt&&(n.innerHTML=i.nullPrompt)),k.appendChild(n)}selectSpan.appendChild(k),selectSpan.appendChild(cancelIcon),l.appendChild(filterIcon),l.appendChild(selectSpan),L.DomEvent.on(k,"change",this._onFilterChange,this),L.DomEvent.on(filterIcon,"click",this._onFilterIconClick,this),L.DomEvent.on(cancelIcon,"click",this._onFilterCancelIconClick,this)}if(a.overlay){d=this._overlaysList;var o=this._domGroups[a.group.id];if(!o){o=document.createElement("div"),o.className="leaflet-control-layers-group",o.id="leaflet-control-layers-group-"+a.group.id;var p=document.createElement("label");if(p.className="leaflet-control-layers-group-label",""!=a.group.name&&!a.group.exclusive&&this.options.groupCheckboxes){var q=document.createElement("input");q.type="checkbox",q.className="leaflet-control-layers-group-selector",q.groupID=a.group.id,q.legend=this,L.DomEvent.on(q,"click",this._onGroupInputClick,q),p.appendChild(q)}var r=document.createElement("span");r.className="leaflet-control-layers-group-name",r.innerHTML=a.group.name,p.appendChild(r),o.appendChild(p),d.appendChild(o),this._domGroups[a.group.id]=o}d=o}else d=this._baseLayersList;return d.appendChild(e),l&&d.appendChild(l),this._checkDisabledLayers(),e},_onFilterIconClick:function(a){{var b=a.target,c=filterIcon.nextSibling,d=c.querySelector("select"),e=this._layers[d.layerId].layer;e.options.filter}c.className="leaflet-control-layers-filter-select-container",b.className="leaflet-control-layers-filter-icon-hidden",this._onFilterChange(a),L.DomEvent.stopPropagation(a)},_onFilterCancelIconClick:function(a){var b=a.target,c=b.parentNode,d=c.previousSibling,e=c.querySelector("select"),f=this._layers[e.layerId].layer;d.className="leaflet-control-layers-filter-icon icon ion-funnel",c.className="leaflet-control-layers-filter-select-container-hidden",this._cancelFilter(f),L.DomEvent.stopPropagation(a)},_onFilterChange:function(a){for(var c=this._form.getElementsByTagName("select"),d=0;d<c.length;d++){var e=c[d];if("leaflet-control-layers-filter-select"===e.className){var f=this._layers[e.layerId].layer,g=f.options.filter,h=e.options[e.selectedIndex],i=h.value;""===i?(g.selected=null,this._cancelFilter(f)):g.selected===i&&b.has(g,"selected")?this._applyFilter(f):(g.selected=i,this._applyFilter(f)),b.has(h,"classname")&&L.DomUtil.addClass(h.className)}}L.DomEvent.stopPropagation(a)},_applyFilter:function(a){var c=a.options.filter,d=c.targetProperty,e=c.template,f=(c.values,c.selected);b.set(a,d,e.replace("{0}",f)),c._applied=!0,a.redraw()},_cancelFilter:function(a){var b=a.options.filter;targetProperty=b.targetProperty,this._deleteNestedProperty(a,targetProperty),console.log(a.wmsParams),b._applied=!1,a.redraw()},_onGroupInputClick:function(){var a,b,c;this_legend=this.legend,this_legend._handlingClick=!0;var d=this_legend._form.getElementsByTagName("input"),e=d.length;for(a=0;e>a;a++)b=d[a],b.groupID==this.groupID&&"leaflet-control-layers-selector"==b.className&&(b.checked=this.checked,c=this_legend._layers[b.layerId],b.checked&&!this_legend._map.hasLayer(c.layer)?this_legend._map.addLayer(c.layer):!b.checked&&this_legend._map.hasLayer(c.layer)&&this_legend._map.removeLayer(c.layer));this_legend._handlingClick=!1},_onInputClick:function(){var a,b,c,d=this._form.getElementsByTagName("input"),e=d.length;for(this._handlingClick=!0,a=0;e>a;a++)b=d[a],"leaflet-control-layers-selector"==b.className&&(c=this._layers[b.layerId],b.checked&&!this._map.hasLayer(c.layer)?this._map.addLayer(c.layer):!b.checked&&this._map.hasLayer(c.layer)&&this._map.removeLayer(c.layer));this._handlingClick=!1},_expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")},_indexOf:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},_checkDisabledLayers:function(){for(var a,c,d=this._form.getElementsByTagName("input"),e=this._map.getZoom(),f=d.length-1;f>=0;f--)a=d[f],c=this._layers[a.layerId].layer,b.has(c,"options")&&(a.disabled=void 0!==c.options.minZoom&&e<c.options.minZoom||void 0!==c.options.maxZoom&&e>c.options.maxZoom)},_deleteNestedProperty:function(a,c){c=c.split("."),a=1==c.length?a:b.get(a,b.slice(c,0,-1));var d=b.last(c);return null!=a&&b.has(a,d)?delete a[d]:!0}}),L.control.groupedLayers=function(a,b,c){return new L.Control.GroupedLayers(a,b,c)}},{"lodash.get":1,"lodash.has":5,"lodash.last":11,"lodash.set":12,"lodash.slice":15}]},{},[18]);
//# sourceMappingURL=leaflet.groupedlayercontrol.min.js.map